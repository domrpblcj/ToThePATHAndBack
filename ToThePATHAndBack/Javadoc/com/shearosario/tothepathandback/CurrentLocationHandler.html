<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_30) on Fri Apr 11 14:34:04 EDT 2014 -->
<title>CurrentLocationHandler</title>
<meta name="date" content="2014-04-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CurrentLocationHandler";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/shearosario/tothepathandback/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CurrentLocationHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/shearosario/tothepathandback/ClosestStationsIntent.downloadReverseGeoCode.html" title="class in com.shearosario.tothepathandback"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../com/shearosario/tothepathandback/DatabaseContract.html" title="class in com.shearosario.tothepathandback"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/shearosario/tothepathandback/CurrentLocationHandler.html" target="_top">FRAMES</a></li>
<li><a href="CurrentLocationHandler.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li><a href="#field_summary">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li><a href="#field_detail">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<p class="subTitle">com.shearosario.tothepathandback</p>
<h2 title="Class CurrentLocationHandler" class="title">Class CurrentLocationHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.shearosario.tothepathandback.CurrentLocationHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <strong>CurrentLocationHandler</strong>
extends java.lang.Object</pre>
<div class="block">Handles obtaining and passing the current location of the user to the first intent, for the second activity. 
 If available, the last known location is saved. It needs to be within 50 meters in accuracy and less than two minutes. 
 Listeners are activated for GPS and Network location, and they're saved as the current location. After a listener obtains 
 a location, it is removed. Once a location is obtained, from whatever source, the button in MainActivity to use the current 
 location as the origin is enabled. When the location button is clicked, the class concerning this intent is instantiated.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>shea</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static Activity</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#activity">activity</a></strong></code>
<div class="block">Public variables for the userLocation class</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static Context</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#context">context</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static Location</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#currentLocation">currentLocation</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static LocationListener</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#gpsListener">gpsListener</a></strong></code>
<div class="block">This location listener is unique for the GPS.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static LocationManager</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#locationManager">locationManager</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static LocationListener</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#networkListener">networkListener</a></strong></code>
<div class="block">This location listener is unique for the Network.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#TWO_MINUTES">TWO_MINUTES</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#CurrentLocationHandler(Context, Activity)">CurrentLocationHandler</a></strong>(Context&nbsp;c,
                      Activity&nbsp;a)</code>
<div class="block">Constructor to handle obtaining the current location.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#createClosestStationsIntent()">createClosestStationsIntent</a></strong>()</code>
<div class="block">When a location is obtained and stored as the current location of the user, the location button in the main 
 activity is activated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static Location</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#getCurrentLocation()">getCurrentLocation</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#getLocation()">getLocation</a></strong>()</code>
<div class="block">Will try to create a location manager from the passed context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static LocationManager</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#getLocationManager()">getLocationManager</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private Location</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#isBetterLastKnownLocation(Location, Location)">isBetterLastKnownLocation</a></strong>(Location&nbsp;lG,
                         Location&nbsp;lN)</code>
<div class="block">Called when there is a last known GPS and Network provider location.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#isLastKnownLocationGood(Location)">isLastKnownLocationGood</a></strong>(Location&nbsp;lastLocation)</code>
<div class="block">Called when a last known location is found, it will return true if the location 
 was obtained in the last two minutes and then if its accuracy is within 50 meters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/shearosario/tothepathandback/CurrentLocationHandler.html#setCurrentLocation(Location, int)">setCurrentLocation</a></strong>(Location&nbsp;currentLocation,
                  int&nbsp;text)</code>
<div class="block">Called every time there is a location that we can use.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="activity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activity</h4>
<pre>private static&nbsp;Activity activity</pre>
<div class="block">Public variables for the userLocation class</div>
</li>
</ul>
<a name="context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>private static&nbsp;Context context</pre>
</li>
</ul>
<a name="TWO_MINUTES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TWO_MINUTES</h4>
<pre>private static final&nbsp;int TWO_MINUTES</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.shearosario.tothepathandback.CurrentLocationHandler.TWO_MINUTES">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="locationManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locationManager</h4>
<pre>private static&nbsp;LocationManager locationManager</pre>
</li>
</ul>
<a name="currentLocation">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentLocation</h4>
<pre>private static&nbsp;Location currentLocation</pre>
</li>
</ul>
<a name="gpsListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gpsListener</h4>
<pre>public static&nbsp;LocationListener gpsListener</pre>
<div class="block">This location listener is unique for the GPS. The overridden method
 onLocationChanged will update the current location of the user. Once 
 a location is obtained, the listener is removed and the location is set.</div>
</li>
</ul>
<a name="networkListener">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>networkListener</h4>
<pre>public static&nbsp;LocationListener networkListener</pre>
<div class="block">This location listener is unique for the Network. The overridden method
 onLocationChanged will update the current location of the user. Once 
 a location is obtained, the listener is removed and the location is set.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CurrentLocationHandler(Context, Activity)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CurrentLocationHandler</h4>
<pre>public&nbsp;CurrentLocationHandler(Context&nbsp;c,
                      Activity&nbsp;a)</pre>
<div class="block">Constructor to handle obtaining the current location. Will call getLocation() in order to
 create a location manager.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - the context of the main activity</dd><dd><code>a</code> - the main activity</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createClosestStationsIntent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createClosestStationsIntent</h4>
<pre>public static&nbsp;void&nbsp;createClosestStationsIntent()</pre>
<div class="block">When a location is obtained and stored as the current location of the user, the location button in the main 
 activity is activated. If the user wishes to use their current location and click on that button, this is called. 
 It will pass the current location, context, and activity, to be used to create an intent and start the ClosestStations activity. 
 Although, all of that is handled by ClosestStationsIntent.</div>
</li>
</ul>
<a name="getLocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocation</h4>
<pre>private&nbsp;void&nbsp;getLocation()</pre>
<div class="block">Will try to create a location manager from the passed context. From that,
 we will try and check if GPS or network is available and enabled. If
 we're able to obtain a location from some source that's on, first we try
 and obtain a last known location from the GPS and Network providers. If
 both are available, we compare and determine if they're good enough for
 us to use. By default we'll always choose GPS over Network. Regardless if
 we can obtain a last known location, we'll start a listener for GPS and
 Network.</div>
</li>
</ul>
<a name="isBetterLastKnownLocation(Location, Location)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBetterLastKnownLocation</h4>
<pre>private&nbsp;Location&nbsp;isBetterLastKnownLocation(Location&nbsp;lG,
                                 Location&nbsp;lN)</pre>
<div class="block">Called when there is a last known GPS and Network provider location. We'll be using the criteria that 
 the location was obtained within the last two minutes, and then if they have an accuracy of less than or equal to 
 50 meters. If both are viable candidates, then we'll always choose GPS over Network.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lG</code> - GPS last known location to be compared</dd><dd><code>lN</code> - Network last known location to be compared</dd>
<dt><span class="strong">Returns:</span></dt><dd>The location that best meets the standards of "good enough". If neither, then null.</dd></dl>
</li>
</ul>
<a name="isLastKnownLocationGood(Location)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLastKnownLocationGood</h4>
<pre>private&nbsp;boolean&nbsp;isLastKnownLocationGood(Location&nbsp;lastLocation)</pre>
<div class="block">Called when a last known location is found, it will return true if the location 
 was obtained in the last two minutes and then if its accuracy is within 50 meters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lastLocationlocation</code> - to be judged</dd>
<dt><span class="strong">Returns:</span></dt><dd>whether the given location meets our standards of "good enough"</dd></dl>
</li>
</ul>
<a name="setCurrentLocation(Location, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentLocation</h4>
<pre>private static&nbsp;void&nbsp;setCurrentLocation(Location&nbsp;currentLocation,
                      int&nbsp;text)</pre>
<div class="block">Called every time there is a location that we can use. It'll be stored in currentLocation, ready to be used 
 if the user requests to. Not only is the current location stored, but the text in the button view changes based on 
 where the location is obtained. For example, if the location saved is the last known GPS location then we will inform 
 the user by changing the text on the button to reflect that.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>currentLocation</code> - the currentLocation to set</dd><dd><code>text</code> - the index of the location based on where it is obtained from</dd></dl>
</li>
</ul>
<a name="getCurrentLocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentLocation</h4>
<pre>public static&nbsp;Location&nbsp;getCurrentLocation()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the currentLocation</dd></dl>
</li>
</ul>
<a name="getLocationManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLocationManager</h4>
<pre>public static&nbsp;LocationManager&nbsp;getLocationManager()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the locationManager</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/shearosario/tothepathandback/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CurrentLocationHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/shearosario/tothepathandback/ClosestStationsIntent.downloadReverseGeoCode.html" title="class in com.shearosario.tothepathandback"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../com/shearosario/tothepathandback/DatabaseContract.html" title="class in com.shearosario.tothepathandback"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/shearosario/tothepathandback/CurrentLocationHandler.html" target="_top">FRAMES</a></li>
<li><a href="CurrentLocationHandler.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li><a href="#field_summary">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li><a href="#field_detail">FIELD</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
